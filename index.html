<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Rhythm Generator</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    flex-direction: column;
  }
  button {
    font-size: 18px;
    padding: 10px 20px;
    background-color: #3498db;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    margin-bottom: 20px;
  }
  .download-link {
    margin-top: 20px;
  }
</style>
</head>
<body>
<button onclick="addBeat('piano')">Add Piano Beat</button>
<button onclick="addBeat('violin')">Add Violin Beat</button>
<button onclick="generateRhythm()">Generate Rhythm</button>

<audio id="piano">
  <source src="https://www.soundjay.com/button/beep-07.wav" type="audio/wav">
  Your browser does not support the audio element.
</audio>

<audio id="violin">
  <source src="https://www.soundjay.com/button/button-25.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<div id="rhythm-container"></div>

<a href="#" id="download-link" class="download-link" download="generated_rhythm.txt">Download Rhythm</a>

<script>
  let rhythm = [];

  function addBeat(soundId) {
    rhythm.push(soundId);
    displayRhythm();
  }

  function displayRhythm() {
    const rhythmContainer = document.getElementById('rhythm-container');
    rhythmContainer.innerHTML = rhythm.map(id => `<span>${id}</span>`).join(' ');
  }

  function generateRhythm() {
    // Generate rhythm logic (can be more complex depending on your needs)
    // Here, we're just displaying the current rhythm for demonstration

    // Prepare rhythm data for download
    const rhythmText = rhythm.join('\n');
    const blob = new Blob([rhythmText], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);

    // Update download link
    const downloadLink = document.getElementById('download-link');
    downloadLink.href = url;

    // Reset rhythm for next generation
    rhythm = [];
    displayRhythm();
  }
</script>
</body>
</html>
